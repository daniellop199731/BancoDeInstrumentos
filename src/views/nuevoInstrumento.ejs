<%- include('partials/header');%>

<script type="text/javascript">
    function fnValidarCampos(){
        var continuar = true;
        if(document.forms[0].nombre.value == ''){
            continuar = false;
            document.forms[0].nombre.style="border: 2px solid red;";
        }
        if(document.forms[0].descripcion.value == ''){
            continuar = false;
            document.forms[0].descripcion.style="border: 2px solid red;";
        }
        if(document.forms[0].categoria.value == 0){
            continuar = false;
            document.forms[0].categoria.style="border: 2px solid red;";
        }
        if(document.forms[0].objetivos.value == ''){
            continuar = false;
            document.forms[0].objetivos.style="border: 2px solid red;";
        }
        if(document.forms[0].proposito.value == ''){
            continuar = false;
            document.forms[0].proposito.style="border: 2px solid red;";
        }
        if(document.forms[0].t_Duracion.value == 0){
            continuar = false;
            document.forms[0].t_Duracion.style="border: 2px solid red;";
        }
        if(document.forms[0].n_Dificultad.value == 0){
            continuar = false;
            document.forms[0].n_Dificultad.style="border: 2px solid red;";
        }        
        if(continuar){
            document.forms[0].submit;
            alert('Información completa. Instrumento creado'); 
        }else{
            alert('Faltan campos por llenar.');           
        }
    }
</script>

<div class="container">
    <div class="row">
        <!-- FORMULARIO NUEVO INSTRUMENTO -->
        <div class="col-md-5">
            <h1>Nuevo Instrumento</h1>            
            <div class="card">
                <div class="card-body">
                    <form action="/guardarInstrumento" method="POST" id="guardarInstrumento">
                        <div class="form-group">
                            <input type="text" name="nombre" placeholder="Nombre del intrumento" class="form-control" required>
                        </div>                        
                        <div class="form-group">
                            <textarea name="descripcion" cols="30" placeholder="Descripción del instrumento" class="form-control" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <select name="categoria" class="form-control" required>
                                <option value="">Categoria ...</option>
                                <% for(var i = 0; i < categorias.length; i++){ %>
                                    <option value="<%=categorias[i].nombre%>"><%=categorias[i].nombre%></option>
                                <% } %>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <textarea name="objetivos" cols="30" placeholder="Objetivos de aprendizaje" class="form-control" required></textarea>
                        </div>
                         
                        <div class="form-group">
                            <textarea name="proposito" cols="30" placeholder="Proposito del instrumento" class="form-control" required></textarea>
                        </div>
                          
                        <div class="form-group">
                            <select name="t_Duracion" class="form-control" required>
                                <option value="">Tiempo de duración ...</option>
                                <option value="1">10 min</option>
                                <option value="2">20 min</option>
                                <option value="3">30 min</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <select name="n_Dificultad" class="form-control" required>
                                <option value="">Nivel de dificultad ...</option>
                                <option value="1">Fácil</option>
                                <option value="2">Moderado</option>
                                <option value="3">Díficil</option>
                            </select>
                        </div>
                                            
                        <% if(categorias.length != 0){ %>                        
                        <input type="submit" value="Crear Instrumento" class="btn btn-primary btn-block">
                        <% }else{ %>
                        <script type="text/javascript">
                            alert('ADVERTENCIA: No es posible crear el instrumento, porque no hay categorias existentes.');
                        </script>
                        <input type="submit" value="Crear Instrumento" class="btn btn-primary btn-block" disabled>                        
                        <% } %>
                    </form>
                </div>
            </div>
        </div>
        <!-- FORMULARIO NUEVO INSTRUMENTO -->
        <!-- POSIBLE LISTA DE INSTRUMENTOS -->
        <div class="col-md-7">
            
        </div>
        <!-- POSIBLE LISTA DE INSTRUMENTOS -->
    </div>
</div>

<%- include('partials/footer');%>